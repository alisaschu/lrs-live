import{S as L,P as C,W as E,a as H,k as W,b as p,V as b,G as O,i as j,l as k,R as A,e as F,m as M}from"./GLTFLoader-3fde12b9.js";const t=new L,a=new C(75,window.innerWidth/window.innerHeight,.1,1e3),c=new E({canvas:document.querySelector("#bg")});c.setPixelRatio(window.devicePixelRatio);c.setSize(window.innerWidth,window.innerHeight);a.position.setZ(30);c.render(t,a);var R=new Audio("sounds/glasses.mp3"),G=new Audio("sounds/paper.mp3"),q=new Audio("sounds/clothes.mp3"),N=new Audio("sounds/schwa.mp3");const B=new H(window.innerWidth,window.innerHeight),V=new W({color:0}),u=new p(B,V);u.position.z=-5;u.castShadow=!1;u.receiveShadow=!0;t.add(u);const d=[],g=new b;var h=!1,f=!1,v=!1;const x=new O;x.load("models/glasses/scene.gltf",function(e){e.scene.scale.set(2,2,2),e.scene.position.y=-15,e.scene.position.x=-25,d.push(e.scene),e.scene.traverse(function(n){n instanceof p&&(n.userData.type="glasses")}),g.copy(e.scene.position),t.add(e.scene)},void 0,function(e){console.error(e)});x.load("models/paper/scene.gltf",function(e){e.scene.scale.set(220,220,220),e.scene.rotation.x=1,e.scene.position.y=-26,e.scene.position.x=15,e.scene.position.z=-20,d.push(e.scene),e.scene.traverse(function(n){n instanceof p&&(n.userData.type="paper")}),g.copy(e.scene.position),t.add(e.scene)},void 0,function(e){console.error(e)});x.load("models/clothes/scene.gltf",function(e){e.scene.scale.set(.25,.25,.25),e.scene.rotation.y=.5,e.scene.rotation.x=1,e.scene.position.x=15,e.scene.position.z=2,e.scene.position.y=5,d.push(e.scene),e.scene.traverse(function(n){n instanceof p&&(n.userData.type="clothes")}),g.copy(e.scene.position),t.add(e.scene)},void 0,function(e){console.error(e)});const y=new j,i=new b,P=new b,S=new k,l=new A,D=new j,s=new F(16777215,0);t.add(s);function I(e){var n=c.domElement.getBoundingClientRect();D.x=(e.clientX-n.left)/(n.width-n.left)*2-1,D.y=-((e.clientY-n.top)/(n.bottom-n.top))*2+1,y.x=e.clientX/window.innerWidth*2-1,y.y=-(e.clientY/window.innerHeight)*2+1,P.copy(a.position).normalize(),S.setFromNormalAndCoplanarPoint(P,t.position),l.setFromCamera(y,a),l.ray.intersectPlane(S,i),s.decay=0,s.position.z=15,s.intensity=15,s.angle=Math.PI/12,s.penumbra=1,s.distance=50,s.position.copy(i),s.position.x=i.x,s.position.y=i.y,s.position.z=30,s.target.position.copy(i),s.target.position.x=i.x,s.target.position.y=i.y,s.target.position.z=29,new M(s);const o=l.intersectObjects(d);if(o.length>0){const w=o[0].object;if(w.userData.type==="glasses"){if(h==!1){const r=document.getElementsByClassName("glasses");r[0].style.color="green",h=!0,m()}}else if(w.userData.type==="paper"){if(f==!1){const r=document.getElementsByClassName("paper");r[0].style.color="green",f=!0,m()}}else if(w.userData.type==="clothes"&&v==!1){const r=document.getElementsByClassName("clothes");r[0].style.color="green",v=!0,m()}}}window.addEventListener("mousemove",I);window.addEventListener("click",function(e){const n=l.intersectObjects(d);if(n.length>0){const o=n[0].object;o.userData.type==="glasses"?R.play():o.userData.type==="paper"?G.play():o.userData.type==="clothes"&&q.play()}});function X(){N.play()}document.querySelector(".schwa-laut").addEventListener("click",X);function m(){if(h&&f&&v){const o=document.querySelector(".info-answer");var e=document.createElement("strong");e.textContent="Super gemacht! Du hast alle Gegenstände gefunden und Harry kommt pünktlich nach Hogwarts!",o.appendChild(e);var n=document.querySelector(".check-answer");n.style.display="inline-block"}}function Y(){a.aspect=window.innerWidth/window.innerHeight,a.updateProjectionMatrix(),c.setSize(window.innerWidth,window.innerHeight)}window.addEventListener("resize",Y);function z(){requestAnimationFrame(z),c.render(t,a)}z();
