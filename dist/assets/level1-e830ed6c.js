import{S as L,P as z,W as E,a as O,k,b as p,V as b,G as A,i as j,l as F,R as H,e as G,m as M}from"./GLTFLoader-60b707e0.js";const t=new L,c=new z(75,window.innerWidth/window.innerHeight,.1,1e3),r=new E({canvas:document.querySelector("#bg")});r.setPixelRatio(window.devicePixelRatio);r.setSize(window.innerWidth,window.innerHeight);c.position.setZ(30);r.render(t,c);var R=new Audio("/sounds/glasses.mp3"),W=new Audio("/sounds/paper.mp3"),q=new Audio("/sounds/clothes.mp3"),N=new Audio("/sounds/schwa.mp3");const B=new O(window.innerWidth,window.innerHeight),V=new k({color:0}),u=new p(B,V);u.position.z=-5;u.castShadow=!1;u.receiveShadow=!0;t.add(u);const l=[],x=new b;var h=!1,f=!1,v=!1;const g=new A;g.load("models/glasses/scene.gltf",function(e){e.scene.scale.set(2,2,2),e.scene.position.y=-15,e.scene.position.x=-25,l.push(e.scene),e.scene.traverse(function(n){n instanceof p&&(n.userData.type="glasses")}),x.copy(e.scene.position),t.add(e.scene)},void 0,function(e){console.error(e)});g.load("models/paper/scene.gltf",function(e){e.scene.scale.set(220,220,220),e.scene.rotation.x=1,e.scene.position.y=-26,e.scene.position.x=15,e.scene.position.z=-20,l.push(e.scene),e.scene.traverse(function(n){n instanceof p&&(n.userData.type="paper")}),x.copy(e.scene.position),t.add(e.scene)},void 0,function(e){console.error(e)});g.load("models/clothes/scene.gltf",function(e){e.scene.scale.set(.25,.25,.25),e.scene.rotation.y=.5,e.scene.rotation.x=1,e.scene.position.x=15,e.scene.position.z=2,e.scene.position.y=5,l.push(e.scene),e.scene.traverse(function(n){n instanceof p&&(n.userData.type="clothes")}),x.copy(e.scene.position),t.add(e.scene)},void 0,function(e){console.error(e)});const w=new j,i=new b,P=new b,D=new F,d=new H,S=new j,s=new G(16777215,0);t.add(s);function I(e){var n=r.domElement.getBoundingClientRect();S.x=(e.clientX-n.left)/(n.width-n.left)*2-1,S.y=-((e.clientY-n.top)/(n.bottom-n.top))*2+1,w.x=e.clientX/window.innerWidth*2-1,w.y=-(e.clientY/window.innerHeight)*2+1,P.copy(c.position).normalize(),D.setFromNormalAndCoplanarPoint(P,t.position),d.setFromCamera(w,c),d.ray.intersectPlane(D,i),s.decay=0,s.position.z=15,s.intensity=15,s.angle=Math.PI/12,s.penumbra=1,s.distance=50,s.position.copy(i),s.position.x=i.x,s.position.y=i.y,s.position.z=30,s.target.position.copy(i),s.target.position.x=i.x,s.target.position.y=i.y,s.target.position.z=29,new M(s);const o=d.intersectObjects(l);if(o.length>0){const y=o[0].object;if(y.userData.type==="glasses"){if(h==!1){const a=document.getElementsByClassName("glasses");a[0].style.color="green",h=!0,m()}}else if(y.userData.type==="paper"){if(f==!1){const a=document.getElementsByClassName("paper");a[0].style.color="green",f=!0,m()}}else if(y.userData.type==="clothes"&&v==!1){const a=document.getElementsByClassName("clothes");a[0].style.color="green",v=!0,m()}}}window.addEventListener("mousemove",I);window.addEventListener("click",function(e){const n=d.intersectObjects(l);if(n.length>0){const o=n[0].object;o.userData.type==="glasses"?R.play():o.userData.type==="paper"?W.play():o.userData.type==="clothes"&&q.play()}});function X(){N.play()}document.querySelector(".schwa-laut").addEventListener("click",X);function m(){if(h&&f&&v){const o=document.querySelector(".info-answer");var e=document.createElement("strong");e.textContent="Super gemacht! Du hast alle Gegenstände gefunden und Harry kommt pünktlich nach Hogwarts!",o.appendChild(e);var n=document.querySelector(".check-answer");n.style.display="inline-block"}}function C(){requestAnimationFrame(C),r.render(t,c)}C();
